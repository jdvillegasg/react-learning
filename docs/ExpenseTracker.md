# Tech stack

* Bun: JS runtime 
* Hono: HTTP server handling
* Zod: validation types

# Installations
## Bun
On windows:

```sh
    powershell -c "irm bun.sh/install.ps1 | iex"
```
## Hono

```sh
    bun install hono
```

Zod validator:

Zod functionality already integrated into Hono:

```sh
    bun add @hono/zod-validator
```

## Zod

```sh
    bun install zod
```

## Create the Bun server

```sh
    bun init
```

Enter the name of the package and of the entry point or press enter to let Bun set it to the default names.

## Set start and dev scripts for Bun

Add this to the `package.json` to set text identifiers for Bun operations:

```sh
    //...
    "scripts": {
        "start": "bun index.ts",
        "dev": "bun --watch index.ts"
    },
    //...
```

# Directory structure

The `routes` directory provide routes for the endpoints:

* `expenses.ts`: handle reqs to its endpoint

We can add a route to our `Bun` server by adding:

```js
    app.route("/api/expenses", expensesRoute)
```

where here, `/api/expenses` is the endpoint name, and `expensesRoute` is a `Hono` instance handling `GET`, `POST` and more type of requests:

```js
    import { Hono } from "hono"
    export const expensesRoute = new Hono()
    .get("/", (c) => {
    return c.json({ expenses: [] });
    });
    .post("/", (c) => {
    return c.json({});
    });
```

## Deployment

The backend server will serve also the fronted. Therefore, the `package.json` file for the backend (when created the bun project) should be in the outer folder of the app.

To deploy succesfully with this approach the following folder structure should be used:

- expense-tracker/
    - `package.json` "serves the `index.ts` file" 
    - `tsconfig.json`
    - `README.md`
    - `.gitignore`
    - backend/
        - routes/
            - `route1.ts`
            - `route2.ts`
        - `app.ts`
        - `index.ts`
    - frontend/
        - dist/  "Generated by `bun build`"
        - all vite frontend files


# Features

* Store Kinde tokens on cookies in the browser.
* Api routes will only be shown for a user that has login.